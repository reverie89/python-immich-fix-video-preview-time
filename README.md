# python-immich-fix-video-preview-time

```
I wrote this script with the help from CodeGPT Plus (GPT-4)

I thought initiallyi the fix was to update the values in the Immich postgres DB, but after doing a sidecar metadata sync, all the video times were wrong again. So instead of updating values in the DB, I changed the script to edit the .xmp files instead.

* Run the sidecar metadata job after running this script

Tested on Python 3.12.1

Following description is generated by the AI chatbot (with a few format adjustments for readability)
```
Updates the duration metadata in the XMP files for video files found in a given root directory. It utilizes the ffprobe tool to fetch the video duration and then modifies the XMP file with the updated duration.

To run the code, update the following variables in the code:

ffprobe_path: Set the path to the ffprobe executable.

Finally, execute the code with the root directory as the command-line argument. For example:

`python app.py "path/to/immich/library"`